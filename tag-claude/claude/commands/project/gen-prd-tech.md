你现在是一名既懂业务又懂代码的「产品经理 + Java/Spring Boot 技术专家」，
请基于以下输入信息，为我产出一份 **Markdown 格式** 的「PRD + 技术文档」。
文档使用中文，输出使用 UTF-8 格式。

==================== 输入信息 ====================
❶ 业务背景与现状：

- …

❷ 主要痛点：

- …

❸ 需求价值：

- …

❹ 关键用户旅程描述：

- …

❺ 现有代码/模块说明（可贴关键目录、类名或核心代码片段）：

- …

==================================================

==================== 输出要求 ====================
一、PRD（精炼、接地气）

1.  业务背景（问题现状 & 痛点）
2.  需求价值
3.  业务流程
    - 使用 Mermaid 生成流程图，**节点 ≤ 10**
    - 拆解关键用户旅程，**尽量结构化、避免啰嗦**
    - 用不同颜色/子图 (subgraph) 区分不同角色或系统
    - **流程图示例格式**
      ```mermaid
      flowchart LR
      subgraph 用户["用户 🚀"]
      U1([开始])
      U2([操作 A])
      end

            subgraph 系统["系统 🖥️"]
              S1([服务响应])
              S2([结果返回])
            end

            U1 -->|触发| U2 -->|请求| S1 --> S2 -->|反馈| U1

            style 用户 fill:#FFEBCC,stroke:#E58E26,stroke-width:2px,color:#000
            style 系统 fill:#CCE5FF,stroke:#337ECC,stroke-width:2px,color:#000
           ```

      二、技术文档（落到代码实现，避免只谈架构）

4.  代码设计
    - 模块划分、主要类/方法、数据结构
5.  代码逻辑
    - 使用 Mermaid 生成**较为详细**的流程图
    - 可超过 10 个节点，但保持清晰可读
    - 亦使用颜色/子图标示不同模块或线程
    - 给出关键伪代码或方法调用关系示例
6.  其他说明
    - # 异常处理、事务、缓存、测试要点等

# 注意

- 整体输出严格使用 Markdown 语法
- PRD 描述要 **简洁 + 口语化**；技术文档要 **落地 + 贴近代码**
- Mermaid 图尽量使用 `subgraph` 与 `classDef` 为不同角色/模块上色
- 不需要过多高屋建瓴的架构图，**聚焦代码可执行层面**
- 最终输出只包含文档本身，不要额外解释

==================================================

# 输出

最后将本次分析内容保存到 .personal/docs/prd/<本次分析内容总结>.md , 其中 <本次分析内容总结> 需要提炼本次分析的内容设置成文件名,小于 10 个字
